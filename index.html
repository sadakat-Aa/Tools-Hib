<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Image Size & Geo Tool</title>
</head>
<body>

  <h2>üì∑ Image Size Tool + üìç Geo Location</h2>

  <!-- Image Upload -->
  <label>Select Image:</label>
  <input type="file" id="imageInput" accept="image/*" onchange="loadImage(event)"><br><br>

  <!-- Display Image -->
  <img id="previewImage" src="#" style="max-width: 300px; display: none;"><br><br>

  <!-- Image Size -->
  <label>Width (px):</label>
  <input type="number" id="imgWidth" onchange="resizeImage()">
  <label>Height (px):</label>
  <input type="number" id="imgHeight" onchange="resizeImage()"><br><br>

  <!-- Geo Buttons -->
  <button onclick="getLocation()">üìç Get Location</button>
  <button onclick="resetGeo()">üîÑ Reset Geo</button>

  <!-- Geo Output -->
  <p id="geoOutput">Location not fetched yet.</p>

  <script>
    let image = document.getElementById('previewImage');
    let imgWidth = document.getElementById('imgWidth');
    let imgHeight = document.getElementById('imgHeight');

    function loadImage(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          image.src = e.target.result;
          image.style.display = 'block';
          image.onload = function() {
            imgWidth.value = image.naturalWidth;
            imgHeight.value = image.naturalHeight;
          };
        };
        reader.readAsDataURL(file);
      }
    }

    function resizeImage() {
      image.style.width = imgWidth.value + 'px';
      image.style.height = imgHeight.value + 'px';
    }

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
          document.getElementById('geoOutput').innerHTML = 
            "Latitude: " + position.coords.latitude + 
            "<br>Longitude: " + position.coords.longitude;
        }, function(error) {
          document.getElementById('geoOutput').innerText = "Error: " + error.message;
        });
      } else {
        document.getElementById('geoOutput').innerText = "Geolocation is not supported.";
      }
    }

    function resetGeo() {
      document.getElementById('geoOutput').innerText = "Location not fetched yet.";
    }
  </script>

</body>
</html>
